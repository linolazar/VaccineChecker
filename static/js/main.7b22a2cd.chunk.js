(this.webpackJsonpvaccineavailabilitychecker=this.webpackJsonpvaccineavailabilitychecker||[]).push([[0],{117:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(10),i=n.n(r),s=(n(91),n(13)),l=n(163),o=n(71),j=n(39),b=n(77),d=n(76),u=n(28),h=n(72),O=n.n(h),x=new(function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).AvailablityCheck=function(t,n){return e.get("https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict"+"?district_id=".concat(t,"&date=").concat(n))},e}return n}(function(){function e(){Object(j.a)(this,e)}return Object(u.a)(e,[{key:"get",value:function(e){return O.a.get(e).then((function(e){return e})).catch((function(e){alert("axios error")}))}}]),e}())),m=n(118),f=n(155),p=n(2),g=function(){return Object(p.jsxs)(m.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(p.jsx)(f.a,{color:"inherit",href:"",children:"owned by Lino Lazar"})," ",(new Date).getFullYear(),"."]})},v=n(157),y=n(171),k=n(168),_=n(172),S=n(156),B=n(170),w=Object(S.a)((function(e){return Object(B.a)({formControl:{margin:e.spacing(1),minWidth:220},selectEmpty:{marginTop:e.spacing(4)}})})),C=function(e){var t=w();return Object(p.jsxs)(v.a,{variant:"outlined",className:t.formControl,children:[Object(p.jsx)(y.a,{id:"demo-simple-select-outlined-label",children:"Select your district"}),Object(p.jsxs)(k.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:e.district,onChange:function(t){e.setDistrict(t.target.value)},label:"Select your district",children:[Object(p.jsx)(_.a,{value:301,children:"Alappuzha"}),Object(p.jsx)(_.a,{value:307,children:"Ernakulam"}),Object(p.jsx)(_.a,{value:306,children:"Idukki"}),Object(p.jsx)(_.a,{value:297,children:"Kannur"}),Object(p.jsx)(_.a,{value:295,children:"Kasargod"}),Object(p.jsx)(_.a,{value:298,children:"Kollam"}),Object(p.jsx)(_.a,{value:304,children:"Kottayam"}),Object(p.jsx)(_.a,{value:305,children:"Kozhikode"}),Object(p.jsx)(_.a,{value:302,children:"Malappuram"}),Object(p.jsx)(_.a,{value:308,children:"Palakkad"}),Object(p.jsx)(_.a,{value:300,children:"Pathanamthitta"}),Object(p.jsx)(_.a,{value:296,children:"Trivandrum"}),Object(p.jsx)(_.a,{value:303,children:"Thrissur"}),Object(p.jsx)(_.a,{value:299,children:"Wayanad"})]})]})},F=n(169),A=n(165),D=n(164),W=n(158),z=n(5),T=n(161),E=n(162),K=n(159),L=n(166),V=n(167),N=n(160),P=n(75),I=n.n(P),M=n(74),J=n.n(M),Y=!1,R=Object(S.a)({root:{"& > *":{borderBottom:"unset"}}}),q=Object(z.a)((function(e){return Object(B.a)({head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}})}))(K.a),G=Object(z.a)((function(e){return Object(B.a)({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}})}))(N.a),H=function(e){return Object(p.jsx)(T.a,{size:"small","aria-label":"purchases",children:Object(p.jsx)(E.a,{children:Object(p.jsx)(N.a,{children:e.sessions.map((function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)(K.a,{component:"th",scope:"row",children:e.vaccine+" Age-"+e.min_age_limit}),e.slots.map((function(e){return Object(p.jsx)(K.a,{align:"center",children:e})}))]})}))},e.sessions[0].session_id)})})},Q=function(e){return Object(p.jsx)(K.a,{align:"center",children:e.ages.map((function(e){return Object(p.jsx)("div",{children:Object(p.jsx)(m.a,{align:"center",variant:"body1",gutterBottom:!0,component:"span",children:e})})}))})},U=function(e){return Object(p.jsx)(K.a,{align:"center",children:e.vaccines.map((function(e){return Object(p.jsx)("div",{children:Object(p.jsx)(m.a,{align:"center",variant:"body1",gutterBottom:!0,component:"span",children:e})})}))})},X=function(e){var t=0,n=0;e.sessions.map((function(e){return t+=e.available_capacity_dose1})),e.sessions.map((function(e){return n+=e.available_capacity_dose2}));var c,a=e.sessions.map((function(e){return e.min_age_limit})),r=e.sessions.map((function(e){return e.vaccine})),i=t>0?t:"0",s=n>0?n:"0",o="Paid"===e.feeType?{color:"red"}:{},j=(c=r).filter((function(e,t){return c.indexOf(e)===t})),b=function(e){return e.filter((function(t,n){return e.indexOf(t)===n}))}(a);return Y=t+n>0,Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Q,{ages:b}),Object(p.jsx)(q,{align:"center",size:"small",children:i}),Object(p.jsx)(q,{align:"center",size:"small",children:s}),Object(p.jsx)(U,{vaccines:j}),Object(p.jsx)(q,{align:"center",style:o,children:e.feeType}),Object(p.jsx)(K.a,{align:"center",children:Y?Object(p.jsx)(l.a,{variant:"contained",color:"primary",href:"https://selfregistration.cowin.gov.in/",children:"Book"}):Object(p.jsx)(p.Fragment,{})})]})},Z=function(e){var t=e.center,n=a.a.useState(!1),c=Object(s.a)(n,2),r=c[0],i=c[1],l=R(),o=0,j=0;return t.sessions.map((function(e){return o+=e.available_capacity_dose1})),t.sessions.map((function(e){return j+=e.available_capacity_dose2})),Y=o+j>0,Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsxs)(G,{className:l.root,children:[Object(p.jsx)(q,{children:Object(p.jsx)(D.a,{"aria-label":"expand row",size:"small",onClick:function(){return i(!r)},children:r?Object(p.jsx)(J.a,{}):Object(p.jsx)(I.a,{})})}),Object(p.jsx)(q,{component:"th",scope:"row",children:t.name}),Object(p.jsx)(X,{sessions:t.sessions,feeType:t.fee_type})]}),Object(p.jsx)(G,{children:Object(p.jsx)(q,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(p.jsx)(A.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(p.jsxs)(F.a,{margin:1,children:[Object(p.jsx)($,{center:t}),Object(p.jsx)(te,{isVisible:Y}),Object(p.jsx)(ee,{center:t}),Object(p.jsx)(ne,{center:t})]})})})})]})},$=function(e){var t=e.center;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(m.a,{variant:"h5",gutterBottom:!0,component:"div",children:"Location Details"}),Object(p.jsx)(m.a,{variant:"subtitle1",gutterBottom:!0,component:"span",children:t.address+", "+t.district_name+" District, "+t.block_name+" Block, "+t.pincode})]})},ee=function(e){var t=e.center;return t.vaccine_fees?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(m.a,{variant:"h5",gutterBottom:!0,component:"div",children:"Vaccine Price"}),t.vaccine_fees.map((function(e){return Object(p.jsx)("div",{children:Object(p.jsx)(m.a,{variant:"subtitle1",gutterBottom:!0,component:"span",children:e.vaccine+" - "+e.fee})})}))]}):Object(p.jsx)(p.Fragment,{})},te=function(e){var t=e.isVisible;return Object(p.jsx)(m.a,{align:"left",children:t?Object(p.jsx)(l.a,{variant:"contained",color:"primary",href:"https://selfregistration.cowin.gov.in/",children:"Book"}):Object(p.jsx)(p.Fragment,{})})},ne=function(e){var t=e.center;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(m.a,{variant:"h5",gutterBottom:!0,component:"div",children:"Available time slots"}),Object(p.jsx)(H,{sessions:t.sessions})]})},ce=function(e){return Object(p.jsx)(L.a,{component:W.a,children:Object(p.jsxs)(T.a,{"aria-label":"collapsible table",children:[Object(p.jsx)(V.a,{children:Object(p.jsxs)(N.a,{style:{backgroundColor:"darkgrey"},children:[Object(p.jsx)(K.a,{}),Object(p.jsx)(K.a,{style:{fontWeight:"bolder"},children:"Center Name"}),Object(p.jsx)(K.a,{align:"center",style:{fontWeight:"bolder"},children:"Age"}),Object(p.jsx)(K.a,{align:"center",style:{fontWeight:"bolder"},children:"Available First Dose"}),Object(p.jsx)(K.a,{align:"center",style:{fontWeight:"bolder"},children:"Available Second Dose "}),Object(p.jsx)(K.a,{align:"center",style:{fontWeight:"bolder"},children:"Vaccine"}),Object(p.jsx)(K.a,{align:"center",style:{fontWeight:"bolder"},children:"Type"}),Object(p.jsx)(K.a,{align:"center",style:{fontWeight:"bolder"}})]})}),Object(p.jsx)(E.a,{children:e.centers.length>0?e.centers.map((function(e){return Object(p.jsx)(Z,{center:e},e.center_id)})):Object(p.jsx)(p.Fragment,{})})]})})},ae=function(){var e=a.a.useState(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],i=a.a.useState(0),j=Object(s.a)(i,2),b=j[0],d=j[1],u=a.a.useState(!1),h=Object(s.a)(u,2),O=h[0],m=h[1],f=Object(c.useState)(o.a.List()),v=Object(s.a)(f,2),y=v[0],k=v[1];Object(c.useEffect)((function(){b>0&&_()}),[b]);function _(){b&&(x.AvailablityCheck(b,function(){var e=new Date;return String(e.getDate()).padStart(2,"0")+"-"+String(e.getMonth()+1).padStart(2,"0")+"-"+e.getFullYear()}()).then((function(e){return k(e.data.centers)}),m(!O)),r(!0))}return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h1",{children:"Vaccine Availablity Checker"}),Object(p.jsx)(C,{district:b,setDistrict:function(e){d(e)}}),Object(p.jsx)("div",{style:{marginLeft:".5rem",marginBottom:".3rem"},children:Object(p.jsx)(l.a,{variant:"contained",color:b?"primary":"disabled",onClick:function(){return _()},children:"Refresh"})}),b>0&&n?Object(p.jsx)(ce,{centers:y}):Object(p.jsx)(p.Fragment,{}),Object(p.jsx)(g,{})]})};i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(ae,{})}),document.getElementById("root"))},91:function(e,t,n){}},[[117,1,2]]]);
//# sourceMappingURL=main.7b22a2cd.chunk.js.map
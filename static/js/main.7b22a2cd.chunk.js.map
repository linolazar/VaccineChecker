{"version":3,"sources":["api/availablityapi.ts","api/axios.ts","components/copyright.tsx","styles/styles.ts","components/dropdown.tsx","components/table.tsx","helpers/utils.ts","components/App.tsx","index.tsx"],"names":["AvailablityCheck","district_id","date","get","url","axios","then","response","catch","error","alert","Copyright","Typography","variant","color","align","Link","href","Date","getFullYear","useStyles","makeStyles","theme","createStyles","formControl","margin","spacing","minWidth","selectEmpty","marginTop","DistrictDropDown","props","classes","FormControl","className","InputLabel","id","Select","labelId","value","district","onChange","event","setDistrict","target","label","MenuItem","isVaccineAvailable","useRowStyles","root","borderBottom","StyledTableCell","withStyles","head","backgroundColor","palette","common","black","white","body","fontSize","TableCell","StyledTableRow","action","hover","TableRow","Slots","Table","size","aria-label","TableBody","sessions","map","session","component","scope","vaccine","min_age_limit","slots","slot","session_id","Age","ages","age","gutterBottom","Vaccine","vaccines","x","SessionComponent","availableFirstDose","availableSecondDose","available_capacity_dose1","available_capacity_dose2","item","Ages","firstDoseText","secondDoseText","style","feeType","FilteredVaccine","filter","pos","indexOf","filteredAges","RemoveDuplicateNumbers","Button","Row","prop","center","React","useState","open","setOpen","Fragment","IconButton","onClick","name","fee_type","paddingBottom","paddingTop","colSpan","Collapse","in","timeout","unmountOnExit","Box","isVisible","AddressDetails","address","district_name","block_name","pincode","VaccinePrice","vaccine_fees","fee","BookButton","AvailableTimeSlot","CollapsibleTable","TableContainer","Paper","TableHead","fontWeight","centers","length","center_id","App","setVisiblity","render","rerender","Immutable","List","availableVaccine","setAvailablity","useEffect","availablityChecker","AvailablityApi","today","String","getDate","padStart","getMonth","data","districtId","marginLeft","marginBottom","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7b22a2cd.chunk.js","sourcesContent":["import Axios from \"./axios\";\r\n\r\nclass AvailablityApi extends Axios {\r\n\r\n    public AvailablityCheck = (district_id: number, date: string): any => {\r\n        return this.get(`https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict` +\r\n            `?district_id=${district_id}&date=${date}`)\r\n    }\r\n}\r\n\r\nexport default new AvailablityApi();","import axios from \"axios\";\r\n\r\nclass Axios {\r\n\r\n    protected get(url: string): any {\r\n        return axios.get(url)\r\n            .then((response: any) => response)\r\n            .catch((error: any) => {\r\n                alert(\"axios error\");\r\n            });\r\n    }\r\n\r\n}\r\n\r\nexport default Axios;","import { Link, Typography } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\n\r\nconst Copyright = (): JSX.Element => {\r\n    return (\r\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n            {'Copyright Â© '}\r\n            <Link color=\"inherit\" href=\"\">\r\n                owned by Lino Lazar\r\n        </Link>{' '}\r\n            {new Date().getFullYear()}\r\n            {'.'}\r\n        </Typography>\r\n    );\r\n}\r\n\r\nexport default Copyright;","import { makeStyles, Theme, createStyles } from \"@material-ui/core\";\r\n\r\nexport const useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        formControl: {\r\n            margin: theme.spacing(1),\r\n            minWidth: 220,\r\n        },\r\n        selectEmpty: {\r\n            marginTop: theme.spacing(4),\r\n        },\r\n    }),\r\n);","import { FormControl, InputLabel, MenuItem, Select } from '@material-ui/core';\r\nimport { useStyles } from '../styles/styles';\r\n\r\ninterface Props {\r\n    district: number;\r\n    setDistrict: (arg0: number) => void;\r\n}\r\n\r\nconst DistrictDropDown = (props: Props): JSX.Element => {\r\n    const classes = useStyles();\r\n    const handleChange = (event: React.ChangeEvent<{ value: unknown }>) => {\r\n        props.setDistrict(event.target.value as number);\r\n    };\r\n\r\n    return (<FormControl variant=\"outlined\" className={classes.formControl}>\r\n        <InputLabel id=\"demo-simple-select-outlined-label\">Select your district</InputLabel>\r\n        <Select\r\n            labelId=\"demo-simple-select-outlined-label\"\r\n            id=\"demo-simple-select-outlined\"\r\n            value={props.district}\r\n            onChange={handleChange}\r\n            label=\"Select your district\"\r\n        >\r\n            <MenuItem value={301}>Alappuzha</MenuItem>\r\n            <MenuItem value={307}>Ernakulam</MenuItem>\r\n            <MenuItem value={306}>Idukki</MenuItem>\r\n            <MenuItem value={297}>Kannur</MenuItem>\r\n            <MenuItem value={295}>Kasargod</MenuItem>\r\n            <MenuItem value={298}>Kollam</MenuItem>\r\n            <MenuItem value={304}>Kottayam</MenuItem>\r\n            <MenuItem value={305}>Kozhikode</MenuItem>\r\n            <MenuItem value={302}>Malappuram</MenuItem>\r\n            <MenuItem value={308}>Palakkad</MenuItem>\r\n            <MenuItem value={300}>Pathanamthitta</MenuItem>\r\n            <MenuItem value={296}>Trivandrum</MenuItem>\r\n            <MenuItem value={303}>Thrissur</MenuItem>\r\n            <MenuItem value={299}>Wayanad</MenuItem>\r\n        </Select>\r\n    </FormControl>)\r\n}\r\n\r\nexport default DistrictDropDown;","import { Button } from '@material-ui/core';\r\nimport Box from '@material-ui/core/Box';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { createStyles, makeStyles, Theme, withStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\nimport React from 'react';\r\nimport { RemoveDuplicateNumbers, RemoveDuplicateString } from '../helpers/utils';\r\nimport { Center, Session, Slot } from '../types/type';\r\n\r\nvar isVaccineAvailable: boolean = false;\r\nconst useRowStyles = makeStyles({\r\n  root: {\r\n    '& > *': {\r\n      borderBottom: 'unset',\r\n    },\r\n  },\r\n});\r\n\r\nconst StyledTableCell = withStyles((theme: Theme) =>\r\n  createStyles({\r\n    head: {\r\n      backgroundColor: theme.palette.common.black,\r\n      color: theme.palette.common.white,\r\n    },\r\n    body: {\r\n      fontSize: 14,\r\n    },\r\n  }),\r\n)(TableCell);\r\n\r\nconst StyledTableRow = withStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      '&:nth-of-type(odd)': {\r\n        backgroundColor: theme.palette.action.hover,\r\n      },\r\n    },\r\n  }),\r\n)(TableRow);\r\n\r\ninterface RowProps {\r\n  center: Center\r\n}\r\ninterface AgeProps {\r\n  ages: number[]\r\n}\r\ninterface VaccineProps {\r\n  vaccines: string[]\r\n}\r\ninterface SectionProps {\r\n  feeType?: string\r\n  sessions: any\r\n}\r\n\r\nconst Slots = (props: SectionProps) => {\r\n  return <Table size=\"small\" aria-label=\"purchases\">\r\n    <TableBody>\r\n      <TableRow key={props.sessions[0].session_id}>\r\n        {\r\n          props.sessions.map((session: Session) => {\r\n            return <div>\r\n              <TableCell component=\"th\" scope=\"row\">{session.vaccine + \" Age-\" + session.min_age_limit}</TableCell>\r\n              {\r\n                session.slots.map((slot: Slot) => {\r\n                  return <TableCell align=\"center\">{slot}</TableCell>\r\n                })\r\n              }\r\n            </div>\r\n          })\r\n        }\r\n      </TableRow>\r\n    </TableBody>\r\n  </Table>\r\n}\r\n\r\nconst Age = (props: AgeProps) => {\r\n  return <TableCell align=\"center\">\r\n    {\r\n      props.ages.map((age: number) =>\r\n        <div>\r\n          <Typography align=\"center\" variant=\"body1\" gutterBottom component=\"span\">{age}</Typography>\r\n        </div>\r\n      )\r\n    }\r\n  </TableCell >\r\n}\r\n\r\nconst Vaccine = (props: VaccineProps) => {\r\n  return <TableCell align=\"center\">\r\n    {\r\n      props.vaccines.map((x: string) =>\r\n        <div>\r\n          <Typography align=\"center\" variant=\"body1\" gutterBottom component=\"span\">{x}</Typography>\r\n        </div>\r\n      )\r\n    }\r\n  </TableCell >\r\n}\r\n\r\nconst SessionComponent = (props: SectionProps) => {\r\n  let availableFirstDose = 0;\r\n  let availableSecondDose = 0;\r\n  props.sessions.map((x: Session) => availableFirstDose += x.available_capacity_dose1)\r\n  props.sessions.map((x: Session) => availableSecondDose += x.available_capacity_dose2)\r\n  let Ages = props.sessions.map((x: Session) => { return x.min_age_limit; })\r\n  let vaccines = props.sessions.map((x: Session) => { return x.vaccine; })\r\n  let firstDoseText = availableFirstDose > 0 ? availableFirstDose : \"0\"\r\n  let secondDoseText = availableSecondDose > 0 ? availableSecondDose : \"0\"\r\n  let style = props.feeType === \"Paid\" ? { color: 'red' } : {}\r\n  let FilteredVaccine = RemoveDuplicateString(vaccines)\r\n  let filteredAges = RemoveDuplicateNumbers(Ages)\r\n  isVaccineAvailable = (availableFirstDose + availableSecondDose) > 0;\r\n\r\n  return <>\r\n    <Age ages={filteredAges} />\r\n    <StyledTableCell align=\"center\" size=\"small\">{firstDoseText}</StyledTableCell>\r\n    <StyledTableCell align=\"center\" size=\"small\">{secondDoseText}</StyledTableCell>\r\n    <Vaccine vaccines={FilteredVaccine} />\r\n    <StyledTableCell align=\"center\" style={style}>{props.feeType}</StyledTableCell>\r\n    <TableCell align=\"center\">\r\n      {\r\n        isVaccineAvailable ?\r\n          <Button variant=\"contained\" color=\"primary\" href=\"https://selfregistration.cowin.gov.in/\">\r\n            Book\r\n      </Button> : <></>\r\n      }\r\n    </TableCell>\r\n  </>\r\n}\r\n\r\nconst Row = (prop: RowProps) => {\r\n  const { center } = prop;\r\n  const [open, setOpen] = React.useState(false);\r\n  const classes = useRowStyles();\r\n  let availableFirstDose = 0;\r\n  let availableSecondDose = 0;\r\n  center.sessions.map((x: Session) => availableFirstDose += x.available_capacity_dose1)\r\n  center.sessions.map((x: Session) => availableSecondDose += x.available_capacity_dose2)\r\n  isVaccineAvailable = (availableFirstDose + availableSecondDose) > 0;\r\n\r\n  return (<React.Fragment>\r\n    <StyledTableRow className={classes.root}>\r\n      <StyledTableCell>\r\n        <IconButton aria-label=\"expand row\" size=\"small\" onClick={() => setOpen(!open)}>\r\n          {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\r\n        </IconButton>\r\n      </StyledTableCell>\r\n      <StyledTableCell component=\"th\" scope=\"row\">{center.name}</StyledTableCell>\r\n      <SessionComponent sessions={center.sessions} feeType={center.fee_type} />\r\n    </StyledTableRow>\r\n    <StyledTableRow>\r\n      <StyledTableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\r\n        <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n          <Box margin={1}>\r\n            <AddressDetails center={center} />\r\n            <BookButton isVisible={isVaccineAvailable} />\r\n            <VaccinePrice center={center} />\r\n            <AvailableTimeSlot center={center} />\r\n          </Box>\r\n        </Collapse>\r\n      </StyledTableCell>\r\n    </StyledTableRow>\r\n  </React.Fragment>\r\n  );\r\n}\r\n\r\nconst AddressDetails: React.FC<{ center: Center }> = ({ center }) => {\r\n  return <>\r\n    <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n      Location Details\r\n              </Typography>\r\n    <Typography variant=\"subtitle1\" gutterBottom component=\"span\">\r\n      {\r\n        center.address + \", \" +\r\n        center.district_name + \" District, \" +\r\n        center.block_name + \" Block, \" +\r\n        center.pincode\r\n      }\r\n    </Typography>\r\n  </>\r\n}\r\n\r\nconst VaccinePrice: React.FC<{ center: Center }> = ({ center }) => {\r\n  return center.vaccine_fees ?\r\n    <>\r\n      <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n        Vaccine Price\r\n  </Typography>\r\n      {\r\n        center.vaccine_fees.map((vaccine: any) => {\r\n          return <div>\r\n            <Typography variant=\"subtitle1\" gutterBottom component=\"span\">\r\n              {vaccine.vaccine + \" - \" + vaccine.fee}\r\n            </Typography>\r\n          </div>\r\n        })\r\n      }\r\n    </>\r\n    : <></>\r\n}\r\n\r\nconst BookButton: React.FC<{ isVisible: boolean }> = ({ isVisible }) => {\r\n  return <Typography align=\"left\">\r\n    {\r\n      isVisible ?\r\n        <Button variant=\"contained\" color=\"primary\" href=\"https://selfregistration.cowin.gov.in/\">\r\n          Book\r\n      </Button> : <></>\r\n    }\r\n  </Typography>\r\n}\r\n\r\nconst AvailableTimeSlot: React.FC<{ center: Center }> = ({ center }) => {\r\n  return <>\r\n    <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n      Available time slots\r\n  </Typography>\r\n    <Slots sessions={center.sessions} />\r\n  </>\r\n}\r\n\r\ninterface TableProps {\r\n  centers: any;\r\n}\r\nconst CollapsibleTable = (props: TableProps) => {\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table aria-label=\"collapsible table\">\r\n        <TableHead>\r\n          <TableRow style={{ backgroundColor: 'darkgrey' }}>\r\n            <TableCell />\r\n            <TableCell style={{ fontWeight: 'bolder' }}>Center Name</TableCell>\r\n            <TableCell align=\"center\" style={{ fontWeight: 'bolder' }}>Age</TableCell>\r\n            <TableCell align=\"center\" style={{ fontWeight: 'bolder' }}>Available First Dose</TableCell>\r\n            <TableCell align=\"center\" style={{ fontWeight: 'bolder' }}>Available Second Dose </TableCell>\r\n            <TableCell align=\"center\" style={{ fontWeight: 'bolder' }}>Vaccine</TableCell>\r\n            <TableCell align=\"center\" style={{ fontWeight: 'bolder' }}>Type</TableCell>\r\n            <TableCell align=\"center\" style={{ fontWeight: 'bolder' }}></TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {\r\n            props.centers.length > 0 ?\r\n              props.centers.map((center: Center) => (<Row key={center.center_id} center={center} />)) :\r\n              <></>\r\n          }\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer >\r\n  );\r\n}\r\n\r\nexport default CollapsibleTable;","export const getDate = () => {\r\n    var today = new Date();\r\n    var dd = String(today.getDate()).padStart(2, '0');\r\n    var mm = String(today.getMonth() + 1).padStart(2, '0');\r\n    var yyyy = today.getFullYear();\r\n    return  dd + '-' + mm + '-' + yyyy;\r\n};\r\n\r\nexport const RemoveDuplicateString = (item: string[]) => {\r\n    return item.filter(function(x: string, pos: number) {\r\n        return item.indexOf(x) === pos;\r\n    })\r\n}\r\n\r\nexport const RemoveDuplicateNumbers = (item: number[]) => {\r\n    return item.filter(function(x: number, pos: number) {\r\n        return item.indexOf(x) === pos;\r\n    })\r\n}\r\n","import { Button } from '@material-ui/core';\nimport Immutable from \"immutable\";\nimport React, { useEffect, useState } from 'react';\nimport AvailablityApi from '../api/availablityapi';\nimport { getDate } from '../helpers/utils';\nimport { Center } from '../types/type';\nimport Copyright from './copyright';\nimport DistrictDropDown from './dropdown';\nimport Table from './table';\n\nconst App = () => {\n  const [isVisible, setVisiblity] = React.useState(false);\n  const [district, setDistrict] = React.useState(0);\n  const [render, rerender] = React.useState(false);\n  const [availableVaccine, setAvailablity] = useState(Immutable.List<Center>())\n\n  useEffect(() => {\n    if (district > 0) {\n      availablityChecker()\n    }\n  }, [district])\n\n  const setSelectedDistrict = (districtId: number) => {\n    setDistrict(districtId);\n  };\n\n  function availablityChecker() {\n    if (district) {\n      AvailablityApi.AvailablityCheck(district, getDate()).then((response: any) =>\n        setAvailablity(response.data.centers),\n        rerender(!render)\n      )\n      setVisiblity(true)\n    }\n  }\n\n  function getButtonColor(): any {\n    return district ? \"primary\" : \"disabled\"\n  }\n\n  return (<div className=\"container\">\n    <h1>Vaccine Availablity Checker</h1>\n    <DistrictDropDown district={district} setDistrict={setSelectedDistrict} />\n    <div style={{ marginLeft: '.5rem', marginBottom:'.3rem' }}>\n      <Button variant=\"contained\" color={getButtonColor()} onClick={() => availablityChecker()}>\n        {\"Refresh\"}\n      </Button>\n    </div>\n    {\n      district > 0 && isVisible ? <Table centers={availableVaccine} /> : <></>\n    }\n    <Copyright />\n  </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}